---
layout: post
title: 开源协议简介
category: 技术
tags: 开源协议
keywords: 
description: 
---

[Open Source Initiative 组织批准的开源协议](http://www.opensource.org/licenses/alphabetical)中，我们常见的有：BSD、GPL、LGPL、MIT 等。

## BSD 开源协议（original BSD license、FreeBSD license、Original BSD license）

BSD 开源协议是一个给予使用者很大自由的协议。基本上使用者可以” 为所欲为”, 可以自由的使用，修改源代码，也可以将修改后的代码作为开源或者专有软件再发布。

但” 为所欲为” 的前提当你发布使用了 BSD 协议的代码，或则以 BSD 协议代码为基础做二次开发自己的产品时，需要满足三个条件：

1. 如果再发布的产品中包含源代码，则在源代码中必须带有原来代码中的 BSD 协议。
2. 如果再发布的只是二进制类库 / 软件，则需要在类库 / 软件的文档和版权声明中包含原来代码中的 BSD 协议。
3. 不可以用开源代码的作者 / 机构名字和原来产品的名字做市场推广。

BSD 代码鼓励代码共享，但需要尊重代码作者的著作权。BSD 由于允许使用者修改和重新发布代码，也允许使用或在 BSD 代码上开发商业软件发布和销售，因此是对商业集成很友好的协议。而很多的公司企业在选用开源产品的时候都首选 BSD 协议，因为可以完全控制这些第三方的代码，在必要的时候可以修改或者二次开发。

## Apache Licence 2.0（Apache License, Version 2.0、Apache License, Version 1.1、Apache License, Version 1.0）

Apache Licence 是著名的非盈利开源组织 Apache 采用的协议。该协议和 BSD 类似，同样鼓励代码共享和尊重原作者的著作权，同样允许代码修改，再发布（作为开源或商业软件）。需要满足的条件也和 BSD 类似：

1. 需要给代码的用户一份 Apache Licence。
2. 如果你修改了代码，需要再被修改的文件中说明。
3. 在延伸的代码中（修改和有源代码衍生的代码中）需要带有原来代码中的协议，商标，专利声明和其他原来作者规定需要包含的说明。
4. 如果再发布的产品中包含一个 Notice 文件，则在 Notice 文件中需要带有 Apache Licence。你可以在 Notice 中增加自己的许可，但不可以表现为对 Apache Licence 构成更改。

Apache Licence 也是对商业应用友好的许可。使用者也可以在需要的时候修改代码来满足需要并作为开源或商业产品发布 / 销售。

## GPL（GNU General Public License）

我们很熟悉的 Linux 就是采用了 GPL。GPL 协议和 BSD, Apache Licence 等鼓励代码重用的许可很不一样。GPL 的出发点是代码的开源 / 免费使用和引用 / 修改 / 衍生代码的开源 / 免费使用，但不允许修改后和衍生的代码做为闭源的商业软件发布和销售。这也就是为什么我们能用免费的各种 linux，包括商业公司的 linux 和 linux 上各种各样的由个人，组织，以及商业软件公司开发的免费软件了。

GPL 协议的主要内容是只要在一个软件中使用 (“使用” 指类库引用，修改后的代码或者衍生代码) GPL 协议的产品，则该软件产品必须也采用 GPL 协议，既必须也是开源和免费。这就是所谓的” 传染性”。GPL 协议的产品作为一个单独的产品使用没有任何问题，还可以享受免费的优势。

由于 GPL 严格要求使用了 GPL 类库的软件产品必须使用 GPL 协议，对于使用 GPL 协议的开源代码，商业软件或者对代码有保密要求的部门就不适合集成 / 采用作为类库和二次开发的基础。

GPL 协议最主要的几个原则：

- 确保软件自始至终都以开放源代码形式发布，保护开发成果不被窃取用作商业发售。任何一套软 件，只要其中使用了受 GPL 协议保护的第三方软件的源程序，并向非开发人员发布时，软件本身也就自动成为受 GPL 保护并且约束的实体。也就是说，此时它必须开放源代码。
- GPL 大致就是一个左侧版权（Copyleft，或译为 “反版权”、“版权属左”、“版权所无”、“版责” 等）的体现。你可以去掉所有原作的版权 信息，只要你保持开源，并且随源代码、二进制版附上 GPL 的许可证就行，让后人可以很明确地得知此软件的授权信息。GPL 精髓就是，只要使软件在完整开源 的情况下，尽可能使使用者得到自由发挥的空间，使软件得到更快更好的发展。
- 无论软件以何种形式发布，都必须同时附上源代码。例如在 Web 上提供下载，就必须在二进制版本（如果有的话）下载的同一个页面，清楚地提供源代码下载的链接。如果以光盘形式发布，就必须同时附上源文件的光盘。
- 开发或维护遵循 GPL 协议开发的软件的公司或个人，可以对使用者收取一定的服务费用。但还是一句老话 —— 必须无偿提供软件的完整源代码，不得将源代码与服务做捆绑或任何变相捆绑销售。

GPL 只是规定用户在获取你的程序的时候必须可以获得源代码，但并没有规定必须免费，因此理论上说，你仍然可以收取费用。如果你的确需要发布你的程序，但又不想开源，规避 GPL 的方法是通过 LPC 或者 RPC 间接调用库里的接口。只要库和你的程序不运行在同一进程下，就不需要开源。

另外，你需要区分 GPL 和 LGPL。LGPL 的要求比 GPL 低，你可以动态链接一个 LGPL 的库而不需要开源你自己的程序，而 GPL 是不行的。

其它细节如再发布的时候需要伴随 GPL 协议等和 BSD/Apache 等类似。

## LGPL（GNU Lesser General Public License）

LGPL 是 GPL 的一个为主要为类库使用设计的开源协议。和 GPL 要求任何使用 / 修改 / 衍生之 GPL 类库的的软件必须采用 GPL 协议不同。LGPL 允许商业软件通过类库引用 (link) 方式使用 LGPL 类库而不需要开源商业软件的代码。这使得采用 LGPL 协议的开源代码可以被商业软件作为类库引用并发布和销售。

但是如果修改 LGPL 协议的代码或者衍生，则所有修改的代码，涉及修改部分的额外代码和衍生的代码都必须采用 LGPL 协议。因此 LGPL 协议的开源代码很适合作为第三方类库被商业软件引用，但不适合希望以 LGPL 协议代码为基础，通过修改和衍生的方式做二次开发的商业软件采用。

GPL/LGPL 都保障原作者的知识产权，避免有人利用开源代码复制并开发类似的产品。

## AGPL（The GNU Affero General Public License）

原有的 GPL 协议，由于现在网络服务公司兴起（如：google）产生了一定的漏洞，比如使用 GPL 的自由软件，但是并不发布与网络之中，则可以自由的使用 GPL 协议却不开源自己私有的解决方案。AGPL 则增加了对此做法的约束。

## MIT（MIT）

MIT 是和 BSD 一样宽范的许可协议，作者只想保留版权，而无任何其他了限制。也就是说，你必须在你的发行版里包含原许可协议的声明，无论你是以二进制发布的还是以源代码发布的。

- 被授权人有权利使用、复制、修改、合并、出版发行、散布、再授权及贩售软体及软体的副本。
- 被授权人可根据程式的需要修改授权条款为适当的内容。
- 在软件和软件的所有副本中都必须包含版权声明和许可声明

## CPAL（Common Public Attribution License）

CPAL 本质上其是由 Mozilla 公共许可证（MPL）加入新的条款构成的。该许可证要求开发者对软件进行标记。

## MPL（The Mozilla Public License）

MPL 是 1998 年初 Netscape 的 Mozilla 小组为其开源软件项目设计的软件许可证。MPL 更好的平衡了开发者对源代码的需求和他们可以利用源代码获得的利益。MPL 在许多权利与义务的约定方面同著名的 GPL 许可证和 BSD 许可证相同，都是符合 OSIA 认定的开源软件许可证。MPL 主要有以下几个显著不同：

1. MPL 虽然也要求经 MPL 许可证发布的源代码的修改也要以 MPL 许可证的方式再许可出来，以保证其他人可以在 MPL 许可证下共享源代码，但是，在 MPL 中对 “发布” 的定义是 “以源代码方式发布的文件”，这就允许企业更灵活的在自己的商业软件中使用 MPL 许可证发布的源码。
2. MPL 许可证第三条第 7 条款中 允许被许可人将经过 MPL 许可证获得的源代码同自己其他类型的代码混合得到自己的软件程序。
3. 对软件专利的态度，MPL 许可证不像 GPL 许可证那样明确表示反对软件专利，但是却明确要求源代码的提供者不能提供已经受专利保护的源代码（除非他本人是专利权人，并书面向公众免费许可这些源代码），也不能在将这些源代码以开放源代码许可证形式许可后，再去申请与这些源代码有关的专利。

## 协议选择

GPL、BSD、MIT、Mozilla、Apache 和 LGPL 之中做选择
![Licence Select](http://blog.longgen.me/images/blog/licence_select.png)

## 参考资料

1. [开源协议](http://www.opensource.org/licenses/alphabetical)
2. [五种开源协议的比较 (BSD,Apache,GPL,LGPL,MIT)](http://www.awflasher.com/blog/archives/939)
3. [Various Licenses and Comments about Them](http://www.gnu.org/licenses/license-list.html)
